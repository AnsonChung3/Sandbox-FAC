<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TFL Page</title>
</head>
<body>
    <h1>Welcome to TFL Page</h1>
    <div>
        <h2>display area</h2>
        <div style="min-height: 20vh; min-width: 40vw; max-height: 60vh; max-width: 80vw; border: 2px solid black; overflow: auto;">
            <ul id="display-area"></ul>
        </div>
        <button id="btn-3">Stop Points</button>
        <button id="btn-2">Meta mode</button>
        <button id="btn-1">Meta</button>
    </div>
    <script>
        function addContentToDisplayArea(content) {
            const displayArea = document.getElementById('display-area');
            content.forEach(item => {
                const listItem = document.createElement('li');
                listItem.textContent = item;
                displayArea.appendChild(listItem);
            });
        }
        document.getElementById('btn-3').addEventListener('click', () => {
            fetch('/tfl/meta-line-stop-points')
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                    // localStorage.setItem('tfl_lines', JSON.stringify(data));
                    addContentToDisplayArea(data);
                })
                .catch(err => console.log(err));
        });    
        document.getElementById('btn-2').addEventListener('click', () => {
            fetch('/tfl/meta-lines')
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                    localStorage.setItem('tfl_meta_tube_line_id', JSON.stringify(data));
                    addContentToDisplayArea(data);
                })
                .catch(err => console.log(err));
        });
        document.getElementById('btn-1').addEventListener('click', () => {
            fetch('/tfl/meta')
                .then(res => res.json())
                .then(data => {
                    console.log(data);
                    localStorage.setItem('tfl_meta_nodeName', JSON.stringify(data));
                    addContentToDisplayArea(data);                    
                })
                .catch(err => console.log(err));
        });
    </script>
</body>
</html>